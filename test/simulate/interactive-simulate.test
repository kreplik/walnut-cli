# Test soldb simulate interactive mode
# REQUIRES: soldb
# Simulate a function call in interactive mode
# RUN: echo "quit" | %soldb simulate %{contract_address} "increment(uint256)" 4 --from 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266 --ethdebug-dir %{contract_address}:TestContract:%{ethdebug_dir} --rpc %{rpc_url} -i 2>&1 | FileCheck %s

# Check that we get the basic simulation output structure
# CHECK: Contract: TestContract

# CHECK: Simulating increment(4)

# Check for entry point
# CHECK: TestContract.sol
# CHECK: => contract TestContract
# CHECK: Parameters:
# CHECK: amount: 4

# Check for the specific step format
# CHECK: [ Step 0 | Gas: {{[0-9]+}} | PC: 0 | PUSH1 ]
