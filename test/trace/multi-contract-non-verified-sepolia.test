# REQUIRES: soldb, sepolia-rpc
# RUN: %soldb trace 0x1362ee26050935178c2f491dbe2a5f0d277903cb5d77fa9e6e30d8b2db31a541 --rpc %{sepolia_rpc_url} | FileCheck %s

# Check that we get the basic tracing output structure
# CHECK: Connecting to RPC: https://opt-sepolia.g.alchemy.com/v2/{{.*}}
# CHECK: Loading transaction 0x1362ee26050935178c2f491dbe2a5f0d277903cb5d77fa9e6e30d8b2db31a541...
# CHECK: Function Call Trace: 0x1362ee26050935178c2f491dbe2a5f0d277903cb5d77fa9e6e30d8b2db31a541
# CHECK:   Contract: 0x59A714559B46c823d87986b5c5B7C630e2f5668d
# CHECK:   Gas used: 82711
# CHECK:   Status: SUCCESS
# CHECK:   Call Stack:
# CHECK:------------------------------------------------------------
# CHECK:#0 Contract::runtime_dispatcher [entry] [non-verified] gas: 60499 @ Contract entry point
# CHECK:  #1 function_0x6f10e157 [0x6f10e157] [external] [non-verified] gas: 60499
# CHECK:     steps: 0-5256
     arguments: 0x00000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000008706879736963616c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000076578707265737300000000000000000000000000000000000000000000000000
# CHECK:    #2 CALL → 0xdcDd...Ac0A::log(string) [0x41304fac] [CALL] [non-verified] gas: 3680
# CHECK:       steps: 397-658
# CHECK:       arguments: 0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000195374617274696e67206f726465722070726f63657373696e6700000000000000
# CHECK:    #3 CALL → 0x6a85...ffEd::function_0x55ec8a03 [0x55ec8a03] [CALL] [non-verified] gas: 7530
# CHECK:       steps: 965-1685
# CHECK:       arguments: 0x00000000000000000000000000000000000000000000000000000000000003e800000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000008706879736963616c000000000000000000000000000000000000000000000000
# CHECK:    #4 CALL → 0xdcDd...Ac0A::function_0xfc8a475f [0xfc8a475f] [CALL] [non-verified] gas: 2763
# CHECK:       steps: 1970-2175
# CHECK:       arguments: 0x0000000000000000000000000000000000000000000000000000000000000050
# CHECK:    #5 CALL → 0xbE73...b2B2::function_0x01567ce2 [0x01567ce2] [CALL] [non-verified] gas: 8190
# CHECK:       steps: 2496-3124
# CHECK:       arguments: 0x000000000000000000000000286af310ea3303c80ebe9a66f6998b21bd8c1c29000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000076578707265737300000000000000000000000000000000000000000000000000
# CHECK:    #6 CALL → 0xdcDd...Ac0A::function_0xfc8a475f [0xfc8a475f] [CALL] [non-verified] gas: 2540
# CHECK:       steps: 3408-3613
# CHECK:       arguments: 0x0000000000000000000000000000000000000000000000000000000000000032
# CHECK:    #7 CALL → 0xf776...1823::processPayment(address,uint256) [0x0b63fe95] [CALL] [non-verified] gas: 9193
# CHECK:       steps: 4039-4307
# CHECK:       arguments: 0x000000000000000000000000286af310ea3303c80ebe9a66f6998b21bd8c1c290000000000000000000000000000000000000000000000000000000000000438
# CHECK:    #8 CALL → 0xdcDd...Ac0A::function_0xe4af64b1 [0xe4af64b1] [CALL] [non-verified] gas: 4657
# CHECK:       steps: 4594-4981
# CHECK:       arguments: 0x00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000438000000000000000000000000000000000000000000000000000000000000000e4f7264657220636f6d706c657465000000000000000000000000000000000000
# CHECK:------------------------------------------------------------
